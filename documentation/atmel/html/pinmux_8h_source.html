<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Atmel Radio: F:/Downloads/Uni/Masters/Project/Software/Atmel/Mbed/Atmel_radio_zip_samr21g18a/Atmel_radio/mbed/TARGET_SAMR21G18A/TARGET_Atmel/TARGET_SAM_CortexM0P/drivers/system/pinmux/pinmux.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Atmel Radio
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">F:/Downloads/Uni/Masters/Project/Software/Atmel/Mbed/Atmel_radio_zip_samr21g18a/Atmel_radio/mbed/TARGET_SAMR21G18A/TARGET_Atmel/TARGET_SAM_CortexM0P/drivers/system/pinmux/pinmux.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pinmux_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00043"></a>00043 <span class="comment">/*</span>
<a name="l00044"></a>00044 <span class="comment"> * Support and FAQ: visit &lt;a href=&quot;http://www.atmel.com/design-support/&quot;&gt;Atmel Support&lt;/a&gt;</span>
<a name="l00045"></a>00045 <span class="comment"> */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef PINMUX_H_INCLUDED</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define PINMUX_H_INCLUDED</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00199"></a>00199 <span class="preprocessor">#include &lt;compiler.h&gt;</span>
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00203"></a>00203 <span class="preprocessor">#endif</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>
<a name="l00206"></a>00206 <span class="preprocessor">#if (SAML21) || (SAMC20) || (SAMC21) || defined(__DOXYGEN__)</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a>00208 <span class="preprocessor">#  define FEATURE_SYSTEM_PINMUX_DRIVE_STRENGTH</span>
<a name="l00209"></a>00209 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span>
<a name="l00213"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gaf212e7bc2a29cb57ab7b1130e4404a6b">00213</a> <span class="preprocessor">#define SYSTEM_PINMUX_GPIO    (1 &lt;&lt; 7)</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span>
<a name="l00221"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gaef5ed797ec6ce6e7f2ca4bafd3f77df2">00221</a> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gaef5ed797ec6ce6e7f2ca4bafd3f77df2" title="Port pin direction configuration enum.">system_pinmux_pin_dir</a> {
<a name="l00224"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae9eec757570dd8e703060cd249076f29">00224</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae9eec757570dd8e703060cd249076f29">SYSTEM_PINMUX_PIN_DIR_INPUT</a>,
<a name="l00227"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ab20cb484d8d81cea0eccd85608636f8a">00227</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ab20cb484d8d81cea0eccd85608636f8a">SYSTEM_PINMUX_PIN_DIR_OUTPUT</a>,
<a name="l00230"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae7f0fe12708b38583366e7f09c37f413">00230</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae7f0fe12708b38583366e7f09c37f413">SYSTEM_PINMUX_PIN_DIR_OUTPUT_WITH_READBACK</a>,
<a name="l00231"></a>00231 };
<a name="l00232"></a>00232 
<a name="l00239"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ga936e823e4b08dc981d39c273182eb1c6">00239</a> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ga936e823e4b08dc981d39c273182eb1c6" title="Port pin input pull configuration enum.">system_pinmux_pin_pull</a> {
<a name="l00241"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6a6de6c84525642ff68da72bc3dd5fad4b">00241</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6a6de6c84525642ff68da72bc3dd5fad4b">SYSTEM_PINMUX_PIN_PULL_NONE</a>,
<a name="l00243"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6ac9fa59589685abc00e18426750100e35">00243</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6ac9fa59589685abc00e18426750100e35">SYSTEM_PINMUX_PIN_PULL_UP</a>,
<a name="l00245"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6a0dec6136103bdccb64576c9bf431ae41">00245</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6a0dec6136103bdccb64576c9bf431ae41">SYSTEM_PINMUX_PIN_PULL_DOWN</a>,
<a name="l00246"></a>00246 };
<a name="l00247"></a>00247 
<a name="l00254"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gac0c5f124b2d0deed3751156f20135994">00254</a> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gac0c5f124b2d0deed3751156f20135994" title="Port pin digital input sampling mode enum.">system_pinmux_pin_sample</a> {
<a name="l00256"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggac0c5f124b2d0deed3751156f20135994ac6a9b047d924787a9bd6df78eb92bf36">00256</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggac0c5f124b2d0deed3751156f20135994ac6a9b047d924787a9bd6df78eb92bf36">SYSTEM_PINMUX_PIN_SAMPLE_CONTINUOUS</a>,
<a name="l00258"></a><a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggac0c5f124b2d0deed3751156f20135994ad695b5c51ca3cb2a7c35bb32209325a2">00258</a>     <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggac0c5f124b2d0deed3751156f20135994ad695b5c51ca3cb2a7c35bb32209325a2">SYSTEM_PINMUX_PIN_SAMPLE_ONDEMAND</a>,
<a name="l00259"></a>00259 };
<a name="l00260"></a>00260 
<a name="l00269"></a><a class="code" href="structsystem__pinmux__config.html">00269</a> <span class="keyword">struct </span><a class="code" href="structsystem__pinmux__config.html" title="Port pin configuration structure.">system_pinmux_config</a> {
<a name="l00273"></a><a class="code" href="structsystem__pinmux__config.html#a0ea0fe95ab984ace216ceeb71b8784f9">00273</a>     uint8_t <a class="code" href="structsystem__pinmux__config.html#a0ea0fe95ab984ace216ceeb71b8784f9">mux_position</a>;
<a name="l00274"></a>00274 
<a name="l00276"></a><a class="code" href="structsystem__pinmux__config.html#a49376a76efa41dfc4a0b27663eb75296">00276</a>     <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gaef5ed797ec6ce6e7f2ca4bafd3f77df2" title="Port pin direction configuration enum.">system_pinmux_pin_dir</a> <a class="code" href="structsystem__pinmux__config.html#a49376a76efa41dfc4a0b27663eb75296">direction</a>;
<a name="l00277"></a>00277 
<a name="l00279"></a><a class="code" href="structsystem__pinmux__config.html#ab9c3289af6faf7aa5bb7f4ab150a56cf">00279</a>     <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ga936e823e4b08dc981d39c273182eb1c6" title="Port pin input pull configuration enum.">system_pinmux_pin_pull</a> <a class="code" href="structsystem__pinmux__config.html#ab9c3289af6faf7aa5bb7f4ab150a56cf">input_pull</a>;
<a name="l00280"></a>00280 
<a name="l00285"></a><a class="code" href="structsystem__pinmux__config.html#a254bdc25c9912ebf875fd7f377905bf3">00285</a>     <span class="keywordtype">bool</span> <a class="code" href="structsystem__pinmux__config.html#a254bdc25c9912ebf875fd7f377905bf3">powersave</a>;
<a name="l00286"></a>00286 };
<a name="l00287"></a>00287 
<a name="l00306"></a>00306 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> system_pinmux_get_config_defaults(
<a name="l00307"></a>00307     <span class="keyword">struct</span> <a class="code" href="structsystem__pinmux__config.html" title="Port pin configuration structure.">system_pinmux_config</a> *<span class="keyword">const</span> config)
<a name="l00308"></a>00308 {
<a name="l00309"></a>00309     <span class="comment">/* Sanity check arguments */</span>
<a name="l00310"></a>00310     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(config);
<a name="l00311"></a>00311 
<a name="l00312"></a>00312     <span class="comment">/* Default configuration values */</span>
<a name="l00313"></a>00313     config-&gt;<a class="code" href="structsystem__pinmux__config.html#a0ea0fe95ab984ace216ceeb71b8784f9">mux_position</a> = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gaf212e7bc2a29cb57ab7b1130e4404a6b">SYSTEM_PINMUX_GPIO</a>;
<a name="l00314"></a>00314     config-&gt;<a class="code" href="structsystem__pinmux__config.html#a49376a76efa41dfc4a0b27663eb75296">direction</a>    = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae9eec757570dd8e703060cd249076f29">SYSTEM_PINMUX_PIN_DIR_INPUT</a>;
<a name="l00315"></a>00315     config-&gt;<a class="code" href="structsystem__pinmux__config.html#ab9c3289af6faf7aa5bb7f4ab150a56cf">input_pull</a>   = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6ac9fa59589685abc00e18426750100e35">SYSTEM_PINMUX_PIN_PULL_UP</a>;
<a name="l00316"></a>00316     config-&gt;<a class="code" href="structsystem__pinmux__config.html#a254bdc25c9912ebf875fd7f377905bf3">powersave</a>    = <span class="keyword">false</span>;
<a name="l00317"></a>00317 }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 <span class="keywordtype">void</span> system_pinmux_pin_set_config(
<a name="l00320"></a>00320     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00321"></a>00321     <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structsystem__pinmux__config.html" title="Port pin configuration structure.">system_pinmux_config</a> *<span class="keyword">const</span> config);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="keywordtype">void</span> system_pinmux_group_set_config(
<a name="l00324"></a>00324     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00325"></a>00325     <span class="keyword">const</span> uint32_t mask,
<a name="l00326"></a>00326     <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structsystem__pinmux__config.html" title="Port pin configuration structure.">system_pinmux_config</a> *<span class="keyword">const</span> config);
<a name="l00327"></a>00327 
<a name="l00344"></a>00344 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a>* system_pinmux_get_group_from_gpio_pin(
<a name="l00345"></a>00345     <span class="keyword">const</span> uint8_t gpio_pin)
<a name="l00346"></a>00346 {
<a name="l00347"></a>00347     uint8_t port_index  = (gpio_pin / 128);
<a name="l00348"></a>00348     uint8_t group_index = (gpio_pin / 32);
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="comment">/* Array of available ports. */</span>
<a name="l00351"></a>00351     <a class="code" href="struct_port.html" title="PORT hardware registers.">Port</a> *<span class="keyword">const</span> ports[<a class="code" href="group___s_a_m_r21_e16_a__base.html#gac581aef3aa2ab0b067ee84aa3443be17" title="(PORT) Number of instances">PORT_INST_NUM</a>] = <a class="code" href="group___s_a_m_r21_e16_a__base.html#ga58dbd6d300ad7fca1c3f7a685edd26de" title="(PORT) Instances List">PORT_INSTS</a>;
<a name="l00352"></a>00352 
<a name="l00353"></a>00353     <span class="keywordflow">if</span> (port_index &lt; <a class="code" href="group___s_a_m_r21_e16_a__base.html#gac581aef3aa2ab0b067ee84aa3443be17" title="(PORT) Number of instances">PORT_INST_NUM</a>) {
<a name="l00354"></a>00354         <span class="keywordflow">return</span> &amp;(ports[port_index]-&gt;<a class="code" href="struct_port.html#a80f3c9b6102b6fcde3fd3ec786202881" title="Offset: 0x00 PortGroup groups [GROUPS].">Group</a>[group_index]);
<a name="l00355"></a>00355     } <span class="keywordflow">else</span> {
<a name="l00356"></a>00356         <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(<span class="keyword">false</span>);
<a name="l00357"></a>00357         <span class="keywordflow">return</span> NULL;
<a name="l00358"></a>00358     }
<a name="l00359"></a>00359 }
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 <span class="keywordtype">void</span> system_pinmux_group_set_input_sample_mode(
<a name="l00362"></a>00362     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00363"></a>00363     <span class="keyword">const</span> uint32_t mask,
<a name="l00364"></a>00364     <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gac0c5f124b2d0deed3751156f20135994" title="Port pin digital input sampling mode enum.">system_pinmux_pin_sample</a> mode);
<a name="l00365"></a>00365 
<a name="l00381"></a>00381 <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t system_pinmux_pin_get_mux_position(
<a name="l00382"></a>00382     <span class="keyword">const</span> uint8_t gpio_pin)
<a name="l00383"></a>00383 {
<a name="l00384"></a>00384     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port = system_pinmux_get_group_from_gpio_pin(gpio_pin);
<a name="l00385"></a>00385     uint32_t pin_index = (gpio_pin % 32);
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     <span class="keywordflow">if</span> (!(port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> &amp; PORT_PINCFG_PMUXEN)) {
<a name="l00388"></a>00388         <span class="keywordflow">return</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gaf212e7bc2a29cb57ab7b1130e4404a6b">SYSTEM_PINMUX_GPIO</a>;
<a name="l00389"></a>00389     }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391     uint32_t pmux_reg = port-&gt;<a class="code" href="struct_port_group.html#af4414227adc97a6b8d01648749157e9f" title="Offset: 0x30 (R/W 8) Peripheral Multiplexing n.">PMUX</a>[pin_index / 2].<a class="code" href="union_p_o_r_t___p_m_u_x___type.html#ab784b3c13d035e69fbd4f1a35d134c12">reg</a>;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393     <span class="keywordflow">if</span> (pin_index &amp; 1) {
<a name="l00394"></a>00394         <span class="keywordflow">return</span> (pmux_reg &amp; PORT_PMUX_PMUXO_Msk) &gt;&gt; <a class="code" href="group___s_a_m_r21___p_o_r_t.html#ga80a28619ad2db553b64d4ce4545368d3" title="(PORT_PMUX) Peripheral Multiplexing Odd">PORT_PMUX_PMUXO_Pos</a>;
<a name="l00395"></a>00395     } <span class="keywordflow">else</span> {
<a name="l00396"></a>00396         <span class="keywordflow">return</span> (pmux_reg &amp; PORT_PMUX_PMUXE_Msk) &gt;&gt; <a class="code" href="group___s_a_m_r21___p_o_r_t.html#ga38a4c4871ecabeb4ad36398b73685bac" title="(PORT_PMUX) Peripheral Multiplexing Even">PORT_PMUX_PMUXE_Pos</a>;
<a name="l00397"></a>00397     }
<a name="l00398"></a>00398 }
<a name="l00399"></a>00399 
<a name="l00410"></a>00410 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> system_pinmux_pin_set_input_sample_mode(
<a name="l00411"></a>00411     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00412"></a>00412     <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gac0c5f124b2d0deed3751156f20135994" title="Port pin digital input sampling mode enum.">system_pinmux_pin_sample</a> mode)
<a name="l00413"></a>00413 {
<a name="l00414"></a>00414     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a>* <span class="keyword">const</span> port = system_pinmux_get_group_from_gpio_pin(gpio_pin);
<a name="l00415"></a>00415     uint32_t pin_index = (gpio_pin % 32);
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     <span class="keywordflow">if</span> (mode == <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggac0c5f124b2d0deed3751156f20135994ad695b5c51ca3cb2a7c35bb32209325a2">SYSTEM_PINMUX_PIN_SAMPLE_ONDEMAND</a>) {
<a name="l00418"></a>00418         port-&gt;<a class="code" href="struct_port_group.html#a1a3e80749252d99d74d682c1df280d2c" title="Offset: 0x24 (R/W 32) Control.">CTRL</a>.<a class="code" href="union_p_o_r_t___c_t_r_l___type.html#aefe323a8f7ffa181d390537e921714f8">reg</a> |= (1 &lt;&lt; pin_index);
<a name="l00419"></a>00419     } <span class="keywordflow">else</span> {
<a name="l00420"></a>00420         port-&gt;<a class="code" href="struct_port_group.html#a1a3e80749252d99d74d682c1df280d2c" title="Offset: 0x24 (R/W 32) Control.">CTRL</a>.<a class="code" href="union_p_o_r_t___c_t_r_l___type.html#aefe323a8f7ffa181d390537e921714f8">reg</a> &amp;= ~(1 &lt;&lt; pin_index);
<a name="l00421"></a>00421     }
<a name="l00422"></a>00422 }
<a name="l00423"></a>00423 
<a name="l00426"></a>00426 <span class="preprocessor">#ifdef FEATURE_SYSTEM_PINMUX_DRIVE_STRENGTH</span>
<a name="l00427"></a>00427 <span class="preprocessor"></span>
<a name="l00434"></a>00434 <span class="keyword">enum</span> system_pinmux_pin_strength {
<a name="l00436"></a>00436     SYSTEM_PINMUX_PIN_STRENGTH_NORMAL,
<a name="l00438"></a>00438     SYSTEM_PINMUX_PIN_STRENGTH_HIGH,
<a name="l00439"></a>00439 };
<a name="l00440"></a>00440 
<a name="l00450"></a>00450 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> system_pinmux_pin_set_output_strength(
<a name="l00451"></a>00451     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00452"></a>00452     <span class="keyword">const</span> <span class="keyword">enum</span> system_pinmux_pin_strength mode)
<a name="l00453"></a>00453 {
<a name="l00454"></a>00454     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a>* <span class="keyword">const</span> port = system_pinmux_get_group_from_gpio_pin(gpio_pin);
<a name="l00455"></a>00455     uint32_t pin_index = (gpio_pin % 32);
<a name="l00456"></a>00456 
<a name="l00457"></a>00457     <span class="keywordflow">if</span> (mode == SYSTEM_PINMUX_PIN_STRENGTH_HIGH) {
<a name="l00458"></a>00458         port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> |=  PORT_PINCFG_DRVSTR;
<a name="l00459"></a>00459     } <span class="keywordflow">else</span> {
<a name="l00460"></a>00460         port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> &amp;= ~PORT_PINCFG_DRVSTR;
<a name="l00461"></a>00461     }
<a name="l00462"></a>00462 }
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 <span class="keywordtype">void</span> system_pinmux_group_set_output_strength(
<a name="l00465"></a>00465     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00466"></a>00466     <span class="keyword">const</span> uint32_t mask,
<a name="l00467"></a>00467     <span class="keyword">const</span> <span class="keyword">enum</span> system_pinmux_pin_strength mode);
<a name="l00468"></a>00468 <span class="preprocessor">#endif</span>
<a name="l00469"></a>00469 <span class="preprocessor"></span>
<a name="l00470"></a>00470 <span class="preprocessor">#ifdef FEATURE_SYSTEM_PINMUX_SLEWRATE_LIMITER</span>
<a name="l00471"></a>00471 <span class="preprocessor"></span>
<a name="l00478"></a>00478 <span class="keyword">enum</span> system_pinmux_pin_slew_rate {
<a name="l00480"></a>00480     SYSTEM_PINMUX_PIN_SLEW_RATE_NORMAL,
<a name="l00482"></a>00482     SYSTEM_PINMUX_PIN_SLEW_RATE_LIMITED,
<a name="l00483"></a>00483 };
<a name="l00484"></a>00484 
<a name="l00495"></a>00495 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> system_pinmux_pin_set_output_slew_rate(
<a name="l00496"></a>00496     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00497"></a>00497     <span class="keyword">const</span> <span class="keyword">enum</span> system_pinmux_pin_slew_rate mode)
<a name="l00498"></a>00498 {
<a name="l00499"></a>00499     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a>* <span class="keyword">const</span> port = system_pinmux_get_group_from_gpio_pin(gpio_pin);
<a name="l00500"></a>00500     uint32_t pin_index = (gpio_pin % 32);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     <span class="keywordflow">if</span> (mode == SYSTEM_PINMUX_PIN_SLEW_RATE_LIMITED) {
<a name="l00503"></a>00503         port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> |=  PORT_PINCFG_SLEWLIM;
<a name="l00504"></a>00504     } <span class="keywordflow">else</span> {
<a name="l00505"></a>00505         port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> &amp;= ~PORT_PINCFG_SLEWLIM;
<a name="l00506"></a>00506     }
<a name="l00507"></a>00507 }
<a name="l00508"></a>00508 
<a name="l00509"></a>00509 <span class="keywordtype">void</span> system_pinmux_group_set_output_slew_rate(
<a name="l00510"></a>00510     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00511"></a>00511     <span class="keyword">const</span> uint32_t mask,
<a name="l00512"></a>00512     <span class="keyword">const</span> <span class="keyword">enum</span> system_pinmux_pin_slew_rate mode);
<a name="l00513"></a>00513 <span class="preprocessor">#endif</span>
<a name="l00514"></a>00514 <span class="preprocessor"></span>
<a name="l00515"></a>00515 <span class="preprocessor">#ifdef FEATURE_SYSTEM_PINMUX_OPEN_DRAIN</span>
<a name="l00516"></a>00516 <span class="preprocessor"></span>
<a name="l00522"></a>00522 <span class="keyword">enum</span> system_pinmux_pin_drive {
<a name="l00524"></a>00524     SYSTEM_PINMUX_PIN_DRIVE_TOTEM,
<a name="l00526"></a>00526     SYSTEM_PINMUX_PIN_DRIVE_OPEN_DRAIN,
<a name="l00527"></a>00527 };
<a name="l00528"></a>00528 
<a name="l00538"></a>00538 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> system_pinmux_pin_set_output_drive(
<a name="l00539"></a>00539     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00540"></a>00540     <span class="keyword">const</span> <span class="keyword">enum</span> system_pinmux_pin_drive mode)
<a name="l00541"></a>00541 {
<a name="l00542"></a>00542     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a>* <span class="keyword">const</span> port = system_pinmux_get_group_from_gpio_pin(gpio_pin);
<a name="l00543"></a>00543     uint32_t pin_index = (gpio_pin % 32);
<a name="l00544"></a>00544 
<a name="l00545"></a>00545     <span class="keywordflow">if</span> (mode == SYSTEM_PINMUX_PIN_DRIVE_OPEN_DRAIN) {
<a name="l00546"></a>00546         port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> |=  PORT_PINCFG_ODRAIN;
<a name="l00547"></a>00547     } <span class="keywordflow">else</span> {
<a name="l00548"></a>00548         port-&gt;<a class="code" href="struct_port_group.html#a8ec7cfd4ffda5e527b61492f2ea10514" title="Offset: 0x40 (R/W 8) Pin Configuration n.">PINCFG</a>[pin_index].<a class="code" href="union_p_o_r_t___p_i_n_c_f_g___type.html#ab2d12324ff8e606b076d3f7fca4c554d">reg</a> &amp;= ~PORT_PINCFG_ODRAIN;
<a name="l00549"></a>00549     }
<a name="l00550"></a>00550 }
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 <span class="keywordtype">void</span> system_pinmux_group_set_output_drive(
<a name="l00553"></a>00553     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00554"></a>00554     <span class="keyword">const</span> uint32_t mask,
<a name="l00555"></a>00555     <span class="keyword">const</span> <span class="keyword">enum</span> system_pinmux_pin_drive mode);
<a name="l00556"></a>00556 <span class="preprocessor">#endif</span>
<a name="l00557"></a>00557 <span class="preprocessor"></span>
<a name="l00558"></a>00558 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00559"></a>00559 <span class="preprocessor"></span>}
<a name="l00560"></a>00560 <span class="preprocessor">#endif</span>
<a name="l00561"></a>00561 <span class="preprocessor"></span>
<a name="l00675"></a>00675 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 23 2016 20:43:08 for Atmel Radio by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
