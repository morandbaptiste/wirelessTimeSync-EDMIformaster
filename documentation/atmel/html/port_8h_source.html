<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Atmel Radio: F:/Downloads/Uni/Masters/Project/Software/Atmel/Mbed/Atmel_radio_zip_samr21g18a/Atmel_radio/mbed/TARGET_SAMR21G18A/TARGET_Atmel/TARGET_SAM_CortexM0P/drivers/port/port.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Atmel Radio
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">F:/Downloads/Uni/Masters/Project/Software/Atmel/Mbed/Atmel_radio_zip_samr21g18a/Atmel_radio/mbed/TARGET_SAMR21G18A/TARGET_Atmel/TARGET_SAM_CortexM0P/drivers/port/port.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="port_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00043"></a>00043 <span class="comment">/*</span>
<a name="l00044"></a>00044 <span class="comment"> * Support and FAQ: visit &lt;a href=&quot;http://www.atmel.com/design-support/&quot;&gt;Atmel Support&lt;/a&gt;</span>
<a name="l00045"></a>00045 <span class="comment"> */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef PORT_H_INCLUDED</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define PORT_H_INCLUDED</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00160"></a>00160 <span class="preprocessor">#include &lt;compiler.h&gt;</span>
<a name="l00161"></a>00161 <span class="preprocessor">#include &lt;<a class="code" href="pinmux_8h.html" title="SAM Pin Multiplexer Driver.">pinmux.h</a>&gt;</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00165"></a>00165 <span class="preprocessor">#endif</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span>
<a name="l00172"></a>00172 <span class="preprocessor">#if (SAML21) || (SAMC20) || (SAMC21) || defined(__DOXYGEN__)</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span>
<a name="l00174"></a>00174 <span class="preprocessor">#  define FEATURE_PORT_INPUT_EVENT</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span>
<a name="l00184"></a>00184 <span class="preprocessor">#if (PORT_GROUPS &gt; 0) || defined(__DOXYGEN__)</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#  define PORTA             PORT-&gt;Group[0]</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span>
<a name="l00188"></a>00188 <span class="preprocessor">#if (PORT_GROUPS &gt; 1) || defined(__DOXYGEN__)</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span>
<a name="l00191"></a>00191 <span class="preprocessor">#  define PORTB             PORT-&gt;Group[1]</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span>
<a name="l00194"></a>00194 <span class="preprocessor">#if (PORT_GROUPS &gt; 2) || defined(__DOXYGEN__)</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>
<a name="l00197"></a>00197 <span class="preprocessor">#  define PORTC             PORT-&gt;Group[2]</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span>
<a name="l00200"></a>00200 <span class="preprocessor">#if (PORT_GROUPS &gt; 3) || defined(__DOXYGEN__)</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span>
<a name="l00203"></a>00203 <span class="preprocessor">#  define PORTD             PORT-&gt;Group[3]</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>
<a name="l00214"></a><a class="code" href="group__asfdoc__sam0__port__group.html#gabe12893c067f9b011ece79c1bf1b128a">00214</a> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__port__group.html#gabe12893c067f9b011ece79c1bf1b128a" title="Port pin direction configuration enum.">port_pin_dir</a> {
<a name="l00217"></a><a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aacfdf36142de0378cd9927b9c00e2f7a6">00217</a>     <a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aacfdf36142de0378cd9927b9c00e2f7a6">PORT_PIN_DIR_INPUT</a>               = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae9eec757570dd8e703060cd249076f29">SYSTEM_PINMUX_PIN_DIR_INPUT</a>,
<a name="l00220"></a><a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aaa2cda8b4095bfaf6f354f113947a3463">00220</a>     <a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aaa2cda8b4095bfaf6f354f113947a3463">PORT_PIN_DIR_OUTPUT</a>              = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ab20cb484d8d81cea0eccd85608636f8a">SYSTEM_PINMUX_PIN_DIR_OUTPUT</a>,
<a name="l00223"></a><a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aae3d3fdfe355c7727ea36948da3b848ad">00223</a>     <a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aae3d3fdfe355c7727ea36948da3b848ad">PORT_PIN_DIR_OUTPUT_WTH_READBACK</a> = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#ggaef5ed797ec6ce6e7f2ca4bafd3f77df2ae7f0fe12708b38583366e7f09c37f413">SYSTEM_PINMUX_PIN_DIR_OUTPUT_WITH_READBACK</a>,
<a name="l00224"></a>00224 };
<a name="l00225"></a>00225 
<a name="l00232"></a><a class="code" href="group__asfdoc__sam0__port__group.html#ga1f47828261f5b7ac5f864b42981a2004">00232</a> <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__port__group.html#ga1f47828261f5b7ac5f864b42981a2004" title="Port pin input pull configuration enum.">port_pin_pull</a> {
<a name="l00234"></a><a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004ab178b34fb381794e7f550b14ff08a302">00234</a>     <a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004ab178b34fb381794e7f550b14ff08a302">PORT_PIN_PULL_NONE</a> = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6a6de6c84525642ff68da72bc3dd5fad4b">SYSTEM_PINMUX_PIN_PULL_NONE</a>,
<a name="l00236"></a><a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004a6505b9a836a818d1f2c8a248b9ac8073">00236</a>     <a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004a6505b9a836a818d1f2c8a248b9ac8073">PORT_PIN_PULL_UP</a>   = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6ac9fa59589685abc00e18426750100e35">SYSTEM_PINMUX_PIN_PULL_UP</a>,
<a name="l00238"></a><a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004a2665866a5f05266cc8fa78da60ebc19d">00238</a>     <a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004a2665866a5f05266cc8fa78da60ebc19d">PORT_PIN_PULL_DOWN</a> = <a class="code" href="group__asfdoc__sam0__system__pinmux__group.html#gga936e823e4b08dc981d39c273182eb1c6a0dec6136103bdccb64576c9bf431ae41">SYSTEM_PINMUX_PIN_PULL_DOWN</a>,
<a name="l00239"></a>00239 };
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="preprocessor">#ifdef FEATURE_PORT_INPUT_EVENT</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>
<a name="l00247"></a>00247 <span class="keyword">enum</span> port_input_event_action {
<a name="l00249"></a>00249     PORT_INPUT_EVENT_ACTION_OUT = 0,
<a name="l00251"></a>00251     PORT_INPUT_EVENT_ACTION_SET,
<a name="l00253"></a>00253     PORT_INPUT_EVENT_ACTION_CLR,
<a name="l00255"></a>00255     PORT_INPUT_EVENT_ACTION_TGL,
<a name="l00256"></a>00256 };
<a name="l00257"></a>00257 
<a name="l00263"></a>00263 <span class="keyword">enum</span> port_input_event {
<a name="l00265"></a>00265     PORT_INPUT_EVENT_0 = 0,
<a name="l00267"></a>00267     PORT_INPUT_EVENT_1 = 1,
<a name="l00269"></a>00269     PORT_INPUT_EVENT_2 = 2,
<a name="l00271"></a>00271     PORT_INPUT_EVENT_3 = 3,
<a name="l00272"></a>00272 };
<a name="l00273"></a>00273 
<a name="l00279"></a>00279 <span class="keyword">struct </span>port_input_event_config {
<a name="l00281"></a>00281     <span class="keyword">enum</span> port_input_event_action  action;
<a name="l00283"></a>00283     uint8_t gpio_pin;
<a name="l00284"></a>00284 };
<a name="l00285"></a>00285 <span class="preprocessor">#endif</span>
<a name="l00286"></a>00286 <span class="preprocessor"></span>
<a name="l00294"></a><a class="code" href="structport__config.html">00294</a> <span class="keyword">struct </span><a class="code" href="structport__config.html" title="Port pin configuration structure.">port_config</a> {
<a name="l00296"></a><a class="code" href="structport__config.html#a359efa8177622e0f9470f67b5c0e2308">00296</a>     <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__port__group.html#gabe12893c067f9b011ece79c1bf1b128a" title="Port pin direction configuration enum.">port_pin_dir</a>  <a class="code" href="structport__config.html#a359efa8177622e0f9470f67b5c0e2308">direction</a>;
<a name="l00297"></a>00297 
<a name="l00299"></a><a class="code" href="structport__config.html#a2d18897db92dd88ea05e4fe5f800fd0f">00299</a>     <span class="keyword">enum</span> <a class="code" href="group__asfdoc__sam0__port__group.html#ga1f47828261f5b7ac5f864b42981a2004" title="Port pin input pull configuration enum.">port_pin_pull</a> <a class="code" href="structport__config.html#a2d18897db92dd88ea05e4fe5f800fd0f">input_pull</a>;
<a name="l00300"></a>00300 
<a name="l00305"></a><a class="code" href="structport__config.html#a9479f0709c8ca55df9a37b30dcf916c1">00305</a>     <span class="keywordtype">bool</span> <a class="code" href="structport__config.html#a9479f0709c8ca55df9a37b30dcf916c1">powersave</a>;
<a name="l00306"></a>00306 };
<a name="l00307"></a>00307 
<a name="l00322"></a>00322 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a>* port_get_group_from_gpio_pin(
<a name="l00323"></a>00323     <span class="keyword">const</span> uint8_t gpio_pin)
<a name="l00324"></a>00324 {
<a name="l00325"></a>00325     <span class="keywordflow">return</span> system_pinmux_get_group_from_gpio_pin(gpio_pin);
<a name="l00326"></a>00326 }
<a name="l00327"></a>00327 
<a name="l00339"></a>00339 <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t port_group_get_input_level(
<a name="l00340"></a>00340     <span class="keyword">const</span> <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00341"></a>00341     <span class="keyword">const</span> uint32_t mask)
<a name="l00342"></a>00342 {
<a name="l00343"></a>00343     <span class="comment">/* Sanity check arguments */</span>
<a name="l00344"></a>00344     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(port);
<a name="l00345"></a>00345 
<a name="l00346"></a>00346     <span class="keywordflow">return</span> (port-&gt;<a class="code" href="struct_port_group.html#a98613cc1bfe5fdc666400f0cb4dd9f2e" title="Offset: 0x20 (R/ 32) Data Input Value.">IN</a>.<a class="code" href="union_p_o_r_t___i_n___type.html#a564c3c16335d1e27b97f191cd6a35c93">reg</a> &amp; mask);
<a name="l00347"></a>00347 }
<a name="l00348"></a>00348 
<a name="l00360"></a>00360 <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t port_group_get_output_level(
<a name="l00361"></a>00361     <span class="keyword">const</span> <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00362"></a>00362     <span class="keyword">const</span> uint32_t mask)
<a name="l00363"></a>00363 {
<a name="l00364"></a>00364     <span class="comment">/* Sanity check arguments */</span>
<a name="l00365"></a>00365     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(port);
<a name="l00366"></a>00366 
<a name="l00367"></a>00367     <span class="keywordflow">return</span> (port-&gt;<a class="code" href="struct_port_group.html#a865fdbe2a7cb1339868e58d9a244031c" title="Offset: 0x10 (R/W 32) Data Output Value.">OUT</a>.<a class="code" href="union_p_o_r_t___o_u_t___type.html#a7d650c5e9cf813ef1d2ab766ea658a1c">reg</a> &amp; mask);
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 
<a name="l00380"></a>00380 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> port_group_set_output_level(
<a name="l00381"></a>00381     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00382"></a>00382     <span class="keyword">const</span> uint32_t mask,
<a name="l00383"></a>00383     <span class="keyword">const</span> uint32_t level_mask)
<a name="l00384"></a>00384 {
<a name="l00385"></a>00385     <span class="comment">/* Sanity check arguments */</span>
<a name="l00386"></a>00386     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(port);
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     port-&gt;<a class="code" href="struct_port_group.html#a97265e4a39bd1fc6b0f28db7cb9fa4ae" title="Offset: 0x18 (R/W 32) Data Output Value Set.">OUTSET</a>.<a class="code" href="union_p_o_r_t___o_u_t_s_e_t___type.html#ae93907b8ec7ad762e8abb7ba9764fe81">reg</a> = (mask &amp;  level_mask);
<a name="l00389"></a>00389     port-&gt;<a class="code" href="struct_port_group.html#a817b54b38d64825d862ae2a5fc6386aa" title="Offset: 0x14 (R/W 32) Data Output Value Clear.">OUTCLR</a>.<a class="code" href="union_p_o_r_t___o_u_t_c_l_r___type.html#a1ed1eeae9c749b110a66e0adb8235519">reg</a> = (mask &amp; ~level_mask);
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 
<a name="l00400"></a>00400 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> port_group_toggle_output_level(
<a name="l00401"></a>00401     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00402"></a>00402     <span class="keyword">const</span> uint32_t mask)
<a name="l00403"></a>00403 {
<a name="l00404"></a>00404     <span class="comment">/* Sanity check arguments */</span>
<a name="l00405"></a>00405     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(port);
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     port-&gt;<a class="code" href="struct_port_group.html#a5367798690cf523de14f6a7b16dd6765" title="Offset: 0x1C (R/W 32) Data Output Value Toggle.">OUTTGL</a>.<a class="code" href="union_p_o_r_t___o_u_t_t_g_l___type.html#ad643ad27dece66db03fafdcac0b0190f">reg</a> = mask;
<a name="l00408"></a>00408 }
<a name="l00409"></a>00409 
<a name="l00429"></a>00429 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> port_get_config_defaults(
<a name="l00430"></a>00430     <span class="keyword">struct</span> <a class="code" href="structport__config.html" title="Port pin configuration structure.">port_config</a> *<span class="keyword">const</span> config)
<a name="l00431"></a>00431 {
<a name="l00432"></a>00432     <span class="comment">/* Sanity check arguments */</span>
<a name="l00433"></a>00433     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(config);
<a name="l00434"></a>00434 
<a name="l00435"></a>00435     <span class="comment">/* Default configuration values */</span>
<a name="l00436"></a>00436     config-&gt;<a class="code" href="structport__config.html#a359efa8177622e0f9470f67b5c0e2308">direction</a>  = <a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aacfdf36142de0378cd9927b9c00e2f7a6">PORT_PIN_DIR_INPUT</a>;
<a name="l00437"></a>00437     config-&gt;<a class="code" href="structport__config.html#a2d18897db92dd88ea05e4fe5f800fd0f">input_pull</a> = <a class="code" href="group__asfdoc__sam0__port__group.html#gga1f47828261f5b7ac5f864b42981a2004a6505b9a836a818d1f2c8a248b9ac8073">PORT_PIN_PULL_UP</a>;
<a name="l00438"></a>00438     config-&gt;<a class="code" href="structport__config.html#a9479f0709c8ca55df9a37b30dcf916c1">powersave</a>  = <span class="keyword">false</span>;
<a name="l00439"></a>00439 }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="keywordtype">void</span> port_pin_set_config(
<a name="l00442"></a>00442     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00443"></a>00443     <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structport__config.html" title="Port pin configuration structure.">port_config</a> *<span class="keyword">const</span> config);
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 <span class="keywordtype">void</span> port_group_set_config(
<a name="l00446"></a>00446     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port,
<a name="l00447"></a>00447     <span class="keyword">const</span> uint32_t mask,
<a name="l00448"></a>00448     <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structport__config.html" title="Port pin configuration structure.">port_config</a> *<span class="keyword">const</span> config);
<a name="l00449"></a>00449 
<a name="l00466"></a>00466 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> port_pin_get_input_level(
<a name="l00467"></a>00467     <span class="keyword">const</span> uint8_t gpio_pin)
<a name="l00468"></a>00468 {
<a name="l00469"></a>00469     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(gpio_pin);
<a name="l00470"></a>00470     uint32_t pin_mask  = (1UL &lt;&lt; (gpio_pin % 32));
<a name="l00471"></a>00471 
<a name="l00472"></a>00472     <span class="keywordflow">return</span> (port_base-&gt;<a class="code" href="struct_port_group.html#a98613cc1bfe5fdc666400f0cb4dd9f2e" title="Offset: 0x20 (R/ 32) Data Input Value.">IN</a>.<a class="code" href="union_p_o_r_t___i_n___type.html#a564c3c16335d1e27b97f191cd6a35c93">reg</a> &amp; pin_mask);
<a name="l00473"></a>00473 }
<a name="l00474"></a>00474 
<a name="l00485"></a>00485 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> port_pin_get_output_level(
<a name="l00486"></a>00486     <span class="keyword">const</span> uint8_t gpio_pin)
<a name="l00487"></a>00487 {
<a name="l00488"></a>00488     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(gpio_pin);
<a name="l00489"></a>00489     uint32_t pin_mask  = (1UL &lt;&lt; (gpio_pin % 32));
<a name="l00490"></a>00490 
<a name="l00491"></a>00491     <span class="keywordflow">return</span> (port_base-&gt;<a class="code" href="struct_port_group.html#a865fdbe2a7cb1339868e58d9a244031c" title="Offset: 0x10 (R/W 32) Data Output Value.">OUT</a>.<a class="code" href="union_p_o_r_t___o_u_t___type.html#a7d650c5e9cf813ef1d2ab766ea658a1c">reg</a> &amp; pin_mask);
<a name="l00492"></a>00492 }
<a name="l00493"></a>00493 
<a name="l00502"></a>00502 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> port_pin_set_output_level(
<a name="l00503"></a>00503     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00504"></a>00504     <span class="keyword">const</span> <span class="keywordtype">bool</span> level)
<a name="l00505"></a>00505 {
<a name="l00506"></a>00506     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(gpio_pin);
<a name="l00507"></a>00507     uint32_t pin_mask  = (1UL &lt;&lt; (gpio_pin % 32));
<a name="l00508"></a>00508 
<a name="l00509"></a>00509     <span class="comment">/* Set the pin to high or low atomically based on the requested level */</span>
<a name="l00510"></a>00510     <span class="keywordflow">if</span> (level) {
<a name="l00511"></a>00511         port_base-&gt;<a class="code" href="struct_port_group.html#a97265e4a39bd1fc6b0f28db7cb9fa4ae" title="Offset: 0x18 (R/W 32) Data Output Value Set.">OUTSET</a>.<a class="code" href="union_p_o_r_t___o_u_t_s_e_t___type.html#ae93907b8ec7ad762e8abb7ba9764fe81">reg</a> = pin_mask;
<a name="l00512"></a>00512     } <span class="keywordflow">else</span> {
<a name="l00513"></a>00513         port_base-&gt;<a class="code" href="struct_port_group.html#a817b54b38d64825d862ae2a5fc6386aa" title="Offset: 0x14 (R/W 32) Data Output Value Clear.">OUTCLR</a>.<a class="code" href="union_p_o_r_t___o_u_t_c_l_r___type.html#a1ed1eeae9c749b110a66e0adb8235519">reg</a> = pin_mask;
<a name="l00514"></a>00514     }
<a name="l00515"></a>00515 }
<a name="l00516"></a>00516 
<a name="l00524"></a>00524 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> port_pin_toggle_output_level(
<a name="l00525"></a>00525     <span class="keyword">const</span> uint8_t gpio_pin)
<a name="l00526"></a>00526 {
<a name="l00527"></a>00527     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(gpio_pin);
<a name="l00528"></a>00528     uint32_t pin_mask  = (1UL &lt;&lt; (gpio_pin % 32));
<a name="l00529"></a>00529 
<a name="l00530"></a>00530     <span class="comment">/* Toggle pin output level */</span>
<a name="l00531"></a>00531     port_base-&gt;<a class="code" href="struct_port_group.html#a5367798690cf523de14f6a7b16dd6765" title="Offset: 0x1C (R/W 32) Data Output Value Toggle.">OUTTGL</a>.<a class="code" href="union_p_o_r_t___o_u_t_t_g_l___type.html#ad643ad27dece66db03fafdcac0b0190f">reg</a> = pin_mask;
<a name="l00532"></a>00532 }
<a name="l00533"></a>00533 
<a name="l00536"></a>00536 <span class="preprocessor">#ifdef FEATURE_PORT_INPUT_EVENT</span>
<a name="l00537"></a>00537 <span class="preprocessor"></span>
<a name="l00553"></a>00553 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> port_enable_input_event(
<a name="l00554"></a>00554     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00555"></a>00555     <span class="keyword">const</span> <span class="keyword">enum</span> port_input_event n)
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(gpio_pin);
<a name="l00558"></a>00558     <span class="keywordflow">switch</span> (n) {
<a name="l00559"></a>00559         <span class="keywordflow">case</span> PORT_INPUT_EVENT_0:
<a name="l00560"></a>00560             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_PORTEI0;
<a name="l00561"></a>00561             <span class="keywordflow">break</span>;
<a name="l00562"></a>00562         <span class="keywordflow">case</span> PORT_INPUT_EVENT_1:
<a name="l00563"></a>00563             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_PORTEI1;
<a name="l00564"></a>00564             <span class="keywordflow">break</span>;
<a name="l00565"></a>00565         <span class="keywordflow">case</span> PORT_INPUT_EVENT_2:
<a name="l00566"></a>00566             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_PORTEI2;
<a name="l00567"></a>00567             <span class="keywordflow">break</span>;
<a name="l00568"></a>00568         <span class="keywordflow">case</span> PORT_INPUT_EVENT_3:
<a name="l00569"></a>00569             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_PORTEI3;
<a name="l00570"></a>00570             <span class="keywordflow">break</span>;
<a name="l00571"></a>00571         <span class="keywordflow">default</span>:
<a name="l00572"></a>00572             <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(<span class="keyword">false</span>);
<a name="l00573"></a>00573             <span class="keywordflow">return</span> STATUS_ERR_INVALID_ARG;
<a name="l00574"></a>00574     }
<a name="l00575"></a>00575     <span class="keywordflow">return</span> STATUS_OK;
<a name="l00576"></a>00576 }
<a name="l00577"></a>00577 
<a name="l00589"></a>00589 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> port_disable_input_event(
<a name="l00590"></a>00590     <span class="keyword">const</span> uint8_t gpio_pin,
<a name="l00591"></a>00591     <span class="keyword">const</span> <span class="keyword">enum</span> port_input_event n)
<a name="l00592"></a>00592 {
<a name="l00593"></a>00593     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(gpio_pin);
<a name="l00594"></a>00594     <span class="keywordflow">switch</span> (n) {
<a name="l00595"></a>00595         <span class="keywordflow">case</span> PORT_INPUT_EVENT_0:
<a name="l00596"></a>00596             port_base-&gt;EVCTRL.reg &amp;= ~PORT_EVCTRL_PORTEI0;
<a name="l00597"></a>00597             <span class="keywordflow">break</span>;
<a name="l00598"></a>00598         <span class="keywordflow">case</span> PORT_INPUT_EVENT_1:
<a name="l00599"></a>00599             port_base-&gt;EVCTRL.reg &amp;= ~PORT_EVCTRL_PORTEI1;
<a name="l00600"></a>00600             <span class="keywordflow">break</span>;
<a name="l00601"></a>00601         <span class="keywordflow">case</span> PORT_INPUT_EVENT_2:
<a name="l00602"></a>00602             port_base-&gt;EVCTRL.reg &amp;= ~PORT_EVCTRL_PORTEI2;
<a name="l00603"></a>00603             <span class="keywordflow">break</span>;
<a name="l00604"></a>00604         <span class="keywordflow">case</span> PORT_INPUT_EVENT_3:
<a name="l00605"></a>00605             port_base-&gt;EVCTRL.reg &amp;= ~PORT_EVCTRL_PORTEI3;
<a name="l00606"></a>00606             <span class="keywordflow">break</span>;
<a name="l00607"></a>00607         <span class="keywordflow">default</span>:
<a name="l00608"></a>00608             <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(<span class="keyword">false</span>);
<a name="l00609"></a>00609             <span class="keywordflow">return</span> STATUS_ERR_INVALID_ARG;
<a name="l00610"></a>00610     }
<a name="l00611"></a>00611     <span class="keywordflow">return</span> STATUS_OK;
<a name="l00612"></a>00612 }
<a name="l00613"></a>00613 
<a name="l00623"></a>00623 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> port_input_event_get_config_defaults(
<a name="l00624"></a>00624     <span class="keyword">struct</span> port_input_event_config *<span class="keyword">const</span> config)
<a name="l00625"></a>00625 {
<a name="l00626"></a>00626     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(config);
<a name="l00627"></a>00627     config-&gt;action   = PORT_INPUT_EVENT_ACTION_OUT;
<a name="l00628"></a>00628     config-&gt;gpio_pin = 0;
<a name="l00629"></a>00629 }
<a name="l00630"></a>00630 
<a name="l00642"></a>00642 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> port_input_event_set_config(
<a name="l00643"></a>00643     <span class="keyword">const</span> <span class="keyword">enum</span> port_input_event n,
<a name="l00644"></a>00644     <span class="keyword">struct</span> port_input_event_config *<span class="keyword">const</span> config)
<a name="l00645"></a>00645 {
<a name="l00646"></a>00646     <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(config);
<a name="l00647"></a>00647     <a class="code" href="struct_port_group.html" title="PortGroup hardware registers.">PortGroup</a> *<span class="keyword">const</span> port_base = port_get_group_from_gpio_pin(config-&gt;gpio_pin);
<a name="l00648"></a>00648     uint8_t pin_index = config-&gt;gpio_pin % 32;
<a name="l00649"></a>00649     <span class="keyword">struct </span><a class="code" href="structport__config.html" title="Port pin configuration structure.">port_config</a> pin_conf;
<a name="l00650"></a>00650 
<a name="l00651"></a>00651     port_get_config_defaults(&amp;pin_conf);
<a name="l00652"></a>00652     <span class="comment">/* Configure the GPIO pin as outputs*/</span>
<a name="l00653"></a>00653     pin_conf.direction  = <a class="code" href="group__asfdoc__sam0__port__group.html#ggabe12893c067f9b011ece79c1bf1b128aaa2cda8b4095bfaf6f354f113947a3463">PORT_PIN_DIR_OUTPUT</a>;
<a name="l00654"></a>00654     port_pin_set_config(config-&gt;gpio_pin, &amp;pin_conf);
<a name="l00655"></a>00655 
<a name="l00656"></a>00656     <span class="keywordflow">switch</span> (n) {
<a name="l00657"></a>00657         <span class="keywordflow">case</span> PORT_INPUT_EVENT_0:
<a name="l00658"></a>00658             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_EVACT0(config-&gt;action)
<a name="l00659"></a>00659                                      | PORT_EVCTRL_PID0(pin_index);
<a name="l00660"></a>00660             <span class="keywordflow">break</span>;
<a name="l00661"></a>00661         <span class="keywordflow">case</span> PORT_INPUT_EVENT_1:
<a name="l00662"></a>00662             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_EVACT1(config-&gt;action)
<a name="l00663"></a>00663                                      | PORT_EVCTRL_PID1(pin_index);
<a name="l00664"></a>00664             <span class="keywordflow">break</span>;
<a name="l00665"></a>00665         <span class="keywordflow">case</span> PORT_INPUT_EVENT_2:
<a name="l00666"></a>00666             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_EVACT2(config-&gt;action)
<a name="l00667"></a>00667                                      | PORT_EVCTRL_PID2(pin_index);
<a name="l00668"></a>00668             <span class="keywordflow">break</span>;
<a name="l00669"></a>00669         <span class="keywordflow">case</span> PORT_INPUT_EVENT_3:
<a name="l00670"></a>00670             port_base-&gt;EVCTRL.reg |= PORT_EVCTRL_EVACT3(config-&gt;action)
<a name="l00671"></a>00671                                      | PORT_EVCTRL_PID3(pin_index);
<a name="l00672"></a>00672             <span class="keywordflow">break</span>;
<a name="l00673"></a>00673         <span class="keywordflow">default</span>:
<a name="l00674"></a>00674             <a class="code" href="group__group__sam0__utils.html#gaab1e54dcc40192f9704e8b252635450f" title="This macro is used to test fatal errors.">Assert</a>(<span class="keyword">false</span>);
<a name="l00675"></a>00675             <span class="keywordflow">return</span> STATUS_ERR_INVALID_ARG;
<a name="l00676"></a>00676     }
<a name="l00677"></a>00677     <span class="keywordflow">return</span> STATUS_OK;
<a name="l00678"></a>00678 }
<a name="l00679"></a>00679 
<a name="l00682"></a>00682 <span class="preprocessor">#endif</span>
<a name="l00683"></a>00683 <span class="preprocessor"></span>
<a name="l00684"></a>00684 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span>}
<a name="l00686"></a>00686 <span class="preprocessor">#endif</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span>
<a name="l00789"></a>00789 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 23 2016 20:43:07 for Atmel Radio by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
